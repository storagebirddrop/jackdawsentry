# Jackdaw Sentry - Redis Configuration
# This file is mounted into the Redis container.
#
# maxmemory is intentionally omitted here — it is set via the
# --maxmemory CLI flag in docker-compose so it can be driven by the
# REDIS_MAXMEMORY env var (default: 1gb).  Override in .env or pass
# on the command line:  REDIS_MAXMEMORY=2gb make dev

# Persistence
appendonly yes
appendfsync everysec

# Memory
# maxmemory is set via CLI flag (see docker-compose command)
maxmemory-policy allkeys-lru

# Security — password is set via --requirepass flag in docker-compose
# Do NOT set requirepass here to avoid conflicts with the command-line flag

# Networking
# tcp-keepalive sends probes to detect dead peers
tcp-keepalive 300
# timeout closes idle client connections after this many seconds (0 = disabled)
# Set to match tcp-keepalive so stale connections are auto-closed
timeout 300

# Logging
loglevel notice
