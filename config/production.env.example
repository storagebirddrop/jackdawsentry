# Production Environment Configuration
# Copy this file to .env.production and fill in the actual values

# Database Configuration
# Ensure the password in DATABASE_URL matches POSTGRES_PASSWORD; update both when rotating credentials
POSTGRES_PASSWORD=your_secure_postgres_password_here
DATABASE_URL=postgresql://jackdaw:your_secure_postgres_password_here@postgres:5432/jackdaw

# Redis Configuration
REDIS_URL=redis://:YOUR_PASSWORD@redis:6379  # Use TLS (rediss://) for production

# JWT Configuration
# Generate with: openssl rand -base64 32 or python -c "import secrets; print(secrets.token_urlsafe(32))"
# Must be at least 32 bytes (256 bits) for HS256/HS512
JWT_SECRET=your_super_secure_jwt_secret_key_change_in_production

# Grafana Configuration
GRAFANA_PASSWORD=your_secure_grafana_password
GRAFANA_SMTP_USER=your_smtp_username@gmail.com
GRAFANA_SMTP_PASSWORD=your_smtp_app_password
GRAFANA_FROM_ADDRESS=alerts@jackdaw-sentry.com

# SSL Configuration (for Nginx)
SSL_CERT_PATH=/etc/nginx/ssl/DOMAIN.crt
SSL_KEY_PATH=/etc/nginx/ssl/DOMAIN.key

# Production Settings
ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG=false

# Competitive Assessment Settings
COMPETITIVE_ENV=production
COMPETITIVE_BASE_URL=https://api:8000  # Use HTTPS for internal traffic
COMPETITIVE_SCHEDULE_INTERVAL=3600

# Monitoring Settings
PROMETHEUS_RETENTION=30d
LOKI_RETENTION=30d

# Security Settings
ALLOWED_HOSTS=jackdaw-sentry.com,www.jackdaw-sentry.com
CORS_ORIGINS=https://jackdaw-sentry.com,https://www.jackdaw-sentry.com

# Performance Settings
WORKERS=8  # Recommended: 2 Ã— nproc + 1, adjust based on VM size
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30
READ_TIMEOUT=30
WRITE_TIMEOUT=30

# Backup Settings
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
